{"version":3,"file":"canvas3DDrawer-2c9249aa9bff460b744383bf6ad7140d.js","names":["Canvas3DDrawer","constructor","id","undefined","this","_me","_pool","shaders","vbo","ibo","cbo","normals","uv","light","textures","lastOf","a","Array","length","_width","_height","_time","_deltatime","_canvas","document","getElementById","_gl","getContext","matrix","projection","mat4","create","view","context","vec2","x","y","getWidth","getHeight","viewport","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","timeTicks","Date","getTime","_frame","width","height","loadShaders","callback","that","onreadystatechange","xhr","i","readyState","shaderType","slice","shaderId","addShader","responseText","type","name","concat","asynchronous","XMLHttpRequest","open","send","call","source","FRAGMENT_SHADER","VERTEX_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","push","addVShader","addFShader","getShader","setShaderProgram","vsid","fsid","vs","fs","program","createProgram","uniforms","attribs","attachShader","linkProgram","getProgramParameter","LINK_STATUS","alert","useProgram","bindUniformParameter","bindAttribParameter","enableVertexAttribArray","label","getUniformLocation","index","bindAttribLocation","getAttribLocation","setUniformInteger","v1","v2","v3","v4","uniform4i","uniform3i","uniform2i","uniform1i","setUniformFloat","uniform4f","uniform3f","uniform2f","uniform1f","setUniformMatrix","transpose","uniformMatrix4fv","uniformMatrix3fv","uniformMatrix2fv","setPalette","palette","createTexture","bindTexture","TEXTURE_2D","paletteSamplerUniform","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","generateMipmap","addLight","position","intensity","color","addNormal","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","addUV","addMesh","vertices","indexes","setProjectionMatrix","setViewMatrix","loadIdentity","identity","setMatrixUniforms","normalMatrix","mat3","toInverseMat3","translateView","vec3","translate","draw","nbMesh","nbPoints","ortho","vertexAttribPointer","FLOAT","ELEMENT_ARRAY_BUFFER","Uint16Array","getBufferParameter","BUFFER_SIZE","drawArrays","TRIANGLE_STRIP","getQuad"],"sources":["assets/js/fractals-lib/addon/models/workers/canvas3DDrawer-2c9249aa9bff460b744383bf6ad7140d.js"],"mappings":"eASe,MAAMA,eAEjB,WAAAC,CAAYC,EAAIC,GAKZC,KAAKC,IAAMD,KACXA,KAAKE,MAAQ,CACTC,QAAW,GACXC,IAAO,GACPC,IAAO,GACPC,IAAO,GACPC,QAAW,GACXC,GAAM,GACNC,MAAS,GACTC,SAAY,GACZC,OAAQ,SAAUC,GACd,OAAQA,aAAaC,MAASD,EAAEA,EAAEE,OAAS,GAAK,IACpD,GAGJd,KAAKe,OACLf,KAAKgB,QACLhB,KAAKiB,MAAQ,EACbjB,KAAKkB,WAAa,EAGlBlB,KAAKmB,QAAU,EAAOC,SAASC,eAAevB,GAAM,KACpDE,KAAKsB,IAAM,KAEXtB,KAAKsB,IAAMtB,KAAKmB,QAAQI,WAAW,UAAYvB,KAAKmB,QAAQI,WAAW,sBAGvEvB,KAAKsB,IAAIE,OAAS,CACdC,WAAYC,KAAKC,SACjBC,KAAMF,KAAKC,UAKf3B,KAAK6B,QAAU7B,KAAKsB,IAKpBtB,KAAK8B,KAAO,CAAEC,EAAK,EAAGC,EAAK,GAI3BhC,KAAKe,OAASf,KAAKiC,WACnBjC,KAAKgB,QAAUhB,KAAKkC,YAKpBlC,KAAKsB,IAAIa,SAAS,EAAG,EAAGnC,KAAKe,OAAQf,KAAKgB,SAC1ChB,KAAKsB,IAAIc,WAAW,EAAK,EAAK,EAAK,GACnCpC,KAAKsB,IAAIe,MAAMrC,KAAKsB,IAAIgB,iBAAmBtC,KAAKsB,IAAIiB,kBAEpDvC,KAAKwC,UAAY,WACTxC,KAAKiB,QACLjB,KAAKkB,YAAa,IAAIuB,MAAOC,UAAY1C,KAAKiB,OAElDjB,KAAKiB,OAAQ,IAAIwB,MAAOC,SAC5B,EAKA1C,KAAK2C,OAAS,CAClB,CAIAV,SAAW,WACP,OAAOjC,KAAKmB,QAAQyB,KACxB,EAGAV,UAAY,WACR,OAAOlC,KAAKmB,QAAQ0B,MACxB,EAIA,WAAAC,CAAY3C,EAAS4C,GACjB,MAAMC,EAAOhD,KAIb,SAASiD,IACL,IAAIC,EAAMlD,KACNmD,EAAID,EAAIC,EACZ,GAAsB,GAAlBD,EAAIE,WAAiB,CACrB,IAAIC,EAAalD,EAAQgD,GAAGG,MAAM,EAAG,IACjCC,EAAWP,EAAKQ,UAAUN,EAAIO,aAAcJ,OAC7CvC,GAA6B,mBAAZiC,GAA0BA,EAAS,CAAEjD,GAAMyD,EAAUG,KAAQL,EAAYM,KAAQxD,EAAQgD,IACjH,CACJ,CAEShD,EAAU,GAAGyD,OAAOzD,GAA7B,IAAK,IAID+C,EAHAW,IAAiBd,EACjBI,EAAIhD,EAAQW,OACZA,EAASqC,EAETA,MAECD,EAAM,IAAIY,gBAAgBX,EAAIA,EAC/BD,EAAIa,KAAK,MAAO5D,EAAQgD,GAAIU,GACxBA,IACAX,EAAID,mBAAqBA,GAE7BC,EAAIc,KAAK,MACTf,EAAmBgB,KAAKf,GAE5B,OAAO/C,CACX,CAMA,SAAAqD,CAAUU,EAAQR,GAEd,IACIL,EAAsB,MAARK,EAAgB1D,KAAKsB,IAAI6C,gBAAkBnE,KAAKsB,IAAI8C,cAClEC,EAASrE,KAAKsB,IAAIgD,aAAajB,GAKnC,GAHArD,KAAKsB,IAAIiD,aAAaF,EAAQH,GAC9BlE,KAAKsB,IAAIkD,cAAcH,IAElBrE,KAAKsB,IAAImD,mBAAmBJ,EAAQrE,KAAKsB,IAAIoD,gBAC9C,MAAM1E,KAAKsB,IAAIqD,iBAAiBN,GAGpC,OADArE,KAAKE,MAAMC,QAAQyE,KAAKP,GACjBrE,KAAKE,MAAMC,QAAQW,OAAS,CACvC,CAKA,UAAA+D,CAAWX,GACP,OAAOlE,KAAKwD,UAAUa,OAAQ,KAClC,CAKA,UAAAS,CAAWZ,GACP,OAAOlE,KAAKwD,UAAUa,OAAQ,KAClC,CAIA,SAAAU,CAAUjF,GACN,OAAQA,GAAM,GAAKA,EAAKE,KAAKE,MAAMC,QAAQW,OAAUd,KAAKE,MAAMC,QAAQL,GAAM,IAClF,CAGA,gBAAAkF,CAAiBC,EAAMC,GACnB,IAAIC,EAAKnF,KAAK+E,UAAUE,GACpBG,EAAKpF,KAAK+E,UAAUG,GAExBlF,KAAKsB,IAAI+C,OAAS,CACdgB,QAASrF,KAAKsB,IAAIgE,gBAClBC,SAAU,CAAC,EACXC,QAAS,CAAC,GAGdxF,KAAKsB,IAAImE,aAAazF,KAAKsB,IAAI+C,OAAOgB,QAASF,GAC/CnF,KAAKsB,IAAImE,aAAazF,KAAKsB,IAAI+C,OAAOgB,QAASD,GAG/CpF,KAAKsB,IAAIoE,YAAY1F,KAAKsB,IAAI+C,OAAOgB,SAEhCrF,KAAKsB,IAAIqE,oBAAoB3F,KAAKsB,IAAI+C,OAAOgB,QAASrF,KAAKsB,IAAIsE,cAChEC,MAAM,gCAIV7F,KAAKsB,IAAIwE,WAAWxE,IAAI+C,OAAOgB,SAG/BrF,KAAK+F,qBAAqB,SAC1B/F,KAAK+F,qBAAqB,UAC1B/F,KAAK+F,qBAAqB,eAC1B/F,KAAK+F,qBAAqB,eAC1B/F,KAAK+F,qBAAqB,gBAG1B/F,KAAKgG,oBAAoB,kBAAmB,GAC5ChG,KAAKsB,IAAI2E,wBAAwBjG,KAAKsB,IAAI+C,OAAOmB,QAAyB,gBAC9E,CAGA,oBAAAO,CAAqBG,QACgBnG,IAA7BC,KAAKsB,IAAI+C,OAAOkB,WAChBvF,KAAKsB,IAAI+C,OAAOkB,SAAW,CAAC,QAEQxF,IAApCC,KAAKsB,IAAI+C,OAAOkB,SAASW,KACzBlG,KAAKsB,IAAI+C,OAAOkB,SAASW,GAASlG,KAAKsB,IAAI6E,mBAAmBnG,KAAKsB,IAAI+C,OAAOgB,QAASa,GAE/F,CAGA,mBAAAF,CAAoBE,EAAOE,QACSrG,IAA5BC,KAAKsB,IAAI+C,OAAOmB,UAChBxF,KAAKsB,IAAI+C,OAAOmB,QAAU,CAAC,QAEQzF,IAAnCC,KAAKsB,IAAI+C,OAAOmB,QAAQU,KACxBlG,KAAKsB,IAAI+E,mBAAmBrG,KAAKsB,IAAI+C,OAAOgB,QAASe,EAAOF,GAC5DlG,KAAKsB,IAAI+C,OAAOmB,QAAQU,GAASlG,KAAKsB,IAAIgF,kBAAkBhF,IAAI+C,OAAOgB,QAASa,GAExF,CAGA,iBAAAK,CAAkB5C,EAAM6C,EAAIC,EAAIC,EAAIC,QACO5G,IAAnCC,KAAKsB,IAAI+C,OAAOkB,SAAS5B,IACzB3D,KAAK+F,qBAAqBpC,QAEnB5D,IAAP4G,EACA3G,KAAKsB,IAAIsF,UAAU5G,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,EAAIC,EAAIC,QACjD5G,IAAP2G,EACP1G,KAAKsB,IAAIuF,UAAU7G,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,EAAIC,QAC7C3G,IAAP0G,EACPzG,KAAKsB,IAAIwF,UAAU9G,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,QACzC1G,IAAPyG,GACPxG,KAAKsB,IAAIyF,UAAU/G,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAE3D,CAGA,eAAAQ,CAAgBrD,EAAM6C,EAAIC,EAAIC,EAAIC,QACS5G,IAAnCC,KAAKsB,IAAI+C,OAAOkB,SAAS5B,IACzB3D,KAAK+F,qBAAqBpC,QAEnB5D,IAAP4G,EACA3G,KAAKsB,IAAI2F,UAAUjH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,EAAIC,EAAIC,QACjD5G,IAAP2G,EACP1G,KAAKsB,IAAI4F,UAAUlH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,EAAIC,QAC7C3G,IAAP0G,EACPzG,KAAKsB,IAAI6F,UAAUnH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAAIC,QACzC1G,IAAPyG,GACPxG,KAAKsB,IAAI8F,UAAUpH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO6C,EAE3D,CAGA,gBAAAa,CAAiB1D,EAAM2D,EAAW9F,QACSzB,IAAnCC,KAAKsB,IAAI+C,OAAOkB,SAAS5B,IACzB3D,KAAK+F,qBAAqBpC,GAET,IAAjBnC,EAAOV,OACPd,KAAKsB,IAAIiG,iBAAiBvH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO2D,EAAW9F,GAC7C,GAAjBA,EAAOV,OACdd,KAAKsB,IAAIkG,iBAAiBxH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO2D,EAAW9F,GAC7C,GAAjBA,EAAOV,QACdd,KAAKsB,IAAImG,iBAAiBzH,KAAKsB,IAAI+C,OAAOkB,SAAS5B,GAAO2D,EAAW9F,EAE7E,CAMA,UAAAkG,CAAWC,GACP3H,KAAKsB,IAAIqG,QAAU3H,KAAKsB,IAAIsG,gBAC5B5H,KAAKsB,IAAIuG,YAAY7H,KAAKsB,IAAIwG,WAAY9H,KAAKsB,IAAIqG,SACnD3H,KAAKsB,IAAI+C,OAAOgB,QAAQ0C,sBAAwB/H,KAAKsB,IAAI6E,mBAAmBnG,KAAKsB,IAAI+C,OAAOgB,QAAS,mBACrGrF,KAAKsB,IAAI0G,WAAWhI,KAAKsB,IAAIwG,WAAY,EAAGxG,IAAI2G,KAAMN,EAAQ7G,OAAS,EAAG,EAAG,EAAGd,KAAKsB,IAAI2G,KAAMjI,KAAKsB,IAAI4G,cAAeP,GACvH3H,KAAKsB,IAAI6G,cAAcnI,KAAKsB,IAAIwG,WAAYxG,IAAI8G,mBAAoBpI,KAAKsB,IAAI+G,SAC7ErI,KAAKsB,IAAI6G,cAAcnI,KAAKsB,IAAIwG,WAAYxG,IAAIgH,mBAAoBtI,KAAKsB,IAAI+G,SAC7ErI,KAAKsB,IAAI6G,cAAcnI,KAAKsB,IAAIwG,WAAY9H,KAAKsB,IAAIiH,eAAgBvI,KAAKsB,IAAIkH,eAC9ExI,KAAKsB,IAAI6G,cAAcnI,KAAKsB,IAAIwG,WAAY9H,KAAKsB,IAAImH,eAAgBzI,KAAKsB,IAAIkH,eAC9ExI,KAAKsB,IAAIoH,eAAe1I,KAAKsB,IAAIwG,YAEjC9H,KAAKsB,IAAIuG,YAAY7H,KAAKsB,IAAIwG,WAAY,KAC9C,CAQA,QAAAa,CAASC,EAAUC,EAAWC,GAI1B,OAHS,CAIb,CAMA,SAAAC,CAAUxI,GAIN,OAHAP,KAAKE,MAAMK,QAAQqE,KAAK5E,KAAKsB,IAAI0H,gBACjChJ,KAAKsB,IAAI2H,WAAWjJ,KAAKsB,IAAI4H,aAAclJ,KAAKE,MAAMS,OAAOX,KAAKE,MAAMK,UACxEP,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAI4H,aAAc,IAAIE,aAAa7I,GAAUP,KAAKsB,IAAI+H,aACxErJ,KAAKE,MAAMK,QAAQO,OAAS,CACvC,CAKA,KAAAwI,CAAM9I,GAIF,OAHAN,MAAMM,GAAGoE,KAAK5E,KAAKsB,IAAI0H,gBACvBhJ,KAAKsB,IAAI2H,WAAWjJ,KAAKsB,IAAI4H,aAAclJ,KAAKE,MAAMS,OAAOX,KAAKE,MAAMM,KACxER,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAI4H,aAAc,IAAIE,aAAa5I,GAAKR,KAAKsB,IAAI+H,aACnErJ,KAAKE,MAAMM,GAAGM,OAAS,CAClC,CAOA,OAAAyI,CAAQC,EAAUC,GAWd,OAVAzJ,KAAKE,MAAME,IAAIwE,KAAK5E,KAAKsB,IAAI0H,gBAC7BhJ,KAAKsB,IAAI2H,WAAWjJ,KAAKsB,IAAI4H,aAAclJ,KAAKE,MAAMS,OAAOT,MAAME,MACnEJ,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAI4H,aAAc,IAAIE,aAAaI,GAAWxJ,KAAKsB,IAAI+H,aAE5EI,aAAmB5I,QACnBb,KAAKE,MAAMG,IAAIuE,KAAK5E,KAAKsB,IAAI0H,gBAC7BhJ,KAAKsB,IAAI2H,WAAWjJ,KAAKsB,IAAI4H,aAAclJ,KAAKE,MAAMS,OAAOT,MAAMG,MACnEL,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAI4H,aAAc,IAAIE,aAAaK,GAAUzJ,KAAKsB,IAAI+H,cAG5ErJ,KAAKE,MAAME,IAAIU,OAAS,CACnC,CAIA,mBAAA4I,CAAoBlI,GAChBxB,KAAKsB,IAAIE,OAAOC,WAAaD,CACjC,CAGA,aAAAmI,CAAcnI,GACVxB,KAAKsB,IAAIE,OAAOI,KAAOJ,CAC3B,CAGA,YAAAoI,GACI5J,KAAK2J,cAAcjI,KAAKmI,WAC5B,CAGA,iBAAAC,GAEI,IAAIC,EAAeC,KAAKrI,SACxB3B,KAAK+F,qBAAqB,qBAC1B/F,KAAK+F,qBAAqB,eAC1B/F,KAAK+F,qBAAqB,iBAE1BrE,KAAKuI,cAAcjK,KAAKsB,IAAIE,OAAOI,KAAMmI,GACzCC,KAAK1C,UAAUyC,GAEf/J,KAAKsB,IAAIiG,iBAAiBvH,KAAKsB,IAAI+C,OAAOkB,SAA4B,mBAAG,EAAOvF,KAAKsB,IAAIE,OAAOC,YAChGzB,KAAKsB,IAAIiG,iBAAiBvH,KAAKsB,IAAI+C,OAAOkB,SAAsB,aAAG,EAAOvF,KAAKsB,IAAIE,OAAOI,MAC1F5B,KAAKsB,IAAIkG,iBAAiBxH,KAAKsB,IAAI+C,OAAOkB,SAAwB,eAAG,EAAOwE,EAChF,CAEA,aAAAG,CAAcC,GACVzI,KAAK0I,UAAUpK,KAAKsB,IAAIE,OAAOI,KAAMuI,EACzC,CAEA,IAAAE,GACIrK,KAAK2C,SACL3C,KAAKwC,YAKL,IAEI8H,EAAStK,KAAKE,MAAME,IAAIU,OACxByJ,EAAW,EACfvK,KAAK0J,oBAAoBhI,KAAK8I,OAJtB,KACA,IAG0C,GAAK,MAGvDxK,KAAK4J,eACL5J,KAAKkK,cAAc,EAAE,EAAK,GAAM,IAGhClK,KAAKsB,IAAI8F,UAAUpH,KAAKsB,IAAI+C,OAAOkB,SAAgB,MAAGvF,KAAK2C,OAAS,IAEpE3C,KAAKsB,IAAI6F,UAAUnH,KAAKsB,IAAI+C,OAAOkB,SAAsB,YAAGvF,KAAKe,OAAQf,KAAKgB,cAKrDjB,IAArBC,KAAKsB,IAAIqG,SACT3H,KAAKsB,IAAIuG,YAAY7H,KAAKsB,IAAIwG,WAAY9H,KAAKsB,IAAIqG,SAEvD,IAAK,IAAIxE,EAAI,EAAGA,EAAImH,EAAQnH,IAExBnD,KAAKsB,IAAI2H,WAAWjJ,KAAKsB,IAAI4H,aAAchJ,MAAME,IAAI+C,IACrDnD,KAAKsB,IAAImJ,oBAAoBzK,KAAKsB,IAAI+C,OAAOmB,QAAyB,gBAClE,EACAxF,KAAKsB,IAAIoJ,OACT,EACA,EACA,GAGgB3K,MAAhBG,MAAMG,IAAI8C,IACVnD,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAIqJ,qBAAsB,IAAIC,YAAY1K,MAAMG,IAAI8C,IAAKnD,KAAKsB,IAAI+H,aAI3EtJ,MAAhBG,MAAMI,IAAI6C,IACVnD,KAAKsB,IAAI6H,WAAWnJ,KAAKsB,IAAIqJ,qBAAsB,IAAIvB,aAAalJ,MAAMI,IAAI6C,IAAKnD,KAAKsB,IAAI+H,aAGhGrJ,KAAK8J,oBACLS,EAAWvK,KAAKsB,IAAIuJ,mBAAmB7K,KAAKsB,IAAI4H,aAAclJ,KAAKsB,IAAIwJ,aAAe,GACtF9K,KAAKsB,IAAIyJ,WAAW/K,KAAKsB,IAAI0J,eAAgB,EAAGT,EAExD,CAMA,OAAAU,GACI,OAAO,IAAI7B,aAAa,CAAC,EAAI,EAAI,GAC5B,EAAI,EAAI,EACT,GAAK,EAAI,GACR,GAAK,EAAI,GAClB","ignoreList":[]}